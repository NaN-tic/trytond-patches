 diff -r e978ecc8f044 trytond/trytond/modules/account/move.xml
 --- a/trytond/trytond/modules/account/move.xml	Mon Apr 23 17:24:11 2018 +0200
 +++ b/trytond/trytond/modules/account/move.xml	Fri May 11 12:49:37 2018 +0200
 @@ -367,5 +367,28 @@
              <field name="report_name">account.move.general_journal</field>
              <field name="report">account/general_journal.fodt</field>
          </record>
 +
 +        <!-- ir rule account move and account move line by company -->
 +        <record model="ir.rule.group" id="rule_group_account_move">
 +            <field name="model" search="[('model', '=', 'account.move')]"/>
 +            <field name="global_p" eval="True"/>
 +        </record>
 +        <record model="ir.rule" id="rule_account_move1">
 +            <field name="domain"
 +                eval="[('company', '=', Eval('user', {}).get('company', None))]"
 +                pyson="1"/>
 +            <field name="rule_group" ref="rule_group_account_move"/>
 +        </record>
 +
 +        <record model="ir.rule.group" id="rule_group_account_move_line">
 +            <field name="model" search="[('model', '=', 'account.move.line')]"/>
 +            <field name="global_p" eval="True"/>
 +        </record>
 +        <record model="ir.rule" id="rule_account_move_line1">
 +            <field name="domain"
 +                eval="[('move.company', '=', Eval('user', {}).get('company', None))]"
 +                pyson="1"/>
 +            <field name="rule_group" ref="rule_group_account_move_line"/>
 +        </record>
      </data>
  </tryton>
